name: Basic configuration
version: 1.0.0
global_rules:
- id: 1
  plugins:
    loki-logger:
      batch_max_size: 1000
      buffer_duration: 60
      endpoint_addrs:
      - http://grafana-loki:3100
      endpoint_uri: /loki/api/v1/push
      inactive_timeout: 5
      include_req_body: false
      include_resp_body: false
      keepalive: true
      keepalive_pool: 5
      keepalive_timeout: 60000
      log_labels:
        job: apisix
      max_retry_count: 0
      name: loki logger
      retry_delay: 1
      ssl_verify: false
      tenant_id: fake
      timeout: 3000
services:
- name: presto-birman-service
  hosts:
  - presto-birman.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: presto-birman
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: largo-paste-service
  hosts:
  - largo-paste.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: largo-paste
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: legato-crumble-service
  hosts:
  - legato-crumble.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: legato-crumble
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: grandioso-himalayan-service
  hosts:
  - grandioso-himalayan.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: grandioso-himalayan
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: presto-bread-service
  hosts:
  - presto-bread.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: presto-bread
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: libretto-olive-service
  hosts:
  - libretto-olive.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: libretto-olive
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: libretto-sopapillas-service
  hosts:
  - libretto-sopapillas.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: libretto-sopapillas
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: andante-persian-service
  hosts:
  - andante-persian.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: andante-persian
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: libretto-steak-service
  hosts:
  - libretto-steak.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: libretto-steak
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
- name: moderato-pot-service
  hosts:
  - moderato-pot.gateway.bank
  plugins:
    proxy-rewrite:
      regex_uri:
      - ^/anything/(.*)
      - /anything/prefixed-$1
      use_real_request_uri_unsafe: false
  upstream:
    name: moderato-pot
    type: roundrobin
    hash_on: vars
    scheme: http
    nodes:
    - host: httpgobin
      port: 8080
      weight: 1
routes:
- name: presto-birman-route-list
  service_id: presto-birman-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id001
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: presto-birman-route-create
  service_id: presto-birman-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id001
- name: presto-birman-route-read
  service_id: presto-birman-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id001
- name: presto-birman-route-update
  service_id: presto-birman-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id001
- name: presto-birman-route-delete
  service_id: presto-birman-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id001
- name: largo-paste-route-list
  service_id: largo-paste-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id002
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: largo-paste-route-create
  service_id: largo-paste-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id002
- name: largo-paste-route-read
  service_id: largo-paste-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id002
- name: largo-paste-route-update
  service_id: largo-paste-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id002
- name: largo-paste-route-delete
  service_id: largo-paste-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id002
- name: legato-crumble-route-list
  service_id: legato-crumble-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id003
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: legato-crumble-route-create
  service_id: legato-crumble-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id003
- name: legato-crumble-route-read
  service_id: legato-crumble-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id003
- name: legato-crumble-route-update
  service_id: legato-crumble-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id003
- name: legato-crumble-route-delete
  service_id: legato-crumble-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id003
- name: grandioso-himalayan-route-list
  service_id: grandioso-himalayan-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id004
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: grandioso-himalayan-route-create
  service_id: grandioso-himalayan-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id004
- name: grandioso-himalayan-route-read
  service_id: grandioso-himalayan-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id004
- name: grandioso-himalayan-route-update
  service_id: grandioso-himalayan-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id004
- name: grandioso-himalayan-route-delete
  service_id: grandioso-himalayan-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id004
- name: presto-bread-route-list
  service_id: presto-bread-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id005
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: presto-bread-route-create
  service_id: presto-bread-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id005
- name: presto-bread-route-read
  service_id: presto-bread-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id005
- name: presto-bread-route-update
  service_id: presto-bread-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id005
- name: presto-bread-route-delete
  service_id: presto-bread-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id005
- name: libretto-olive-route-list
  service_id: libretto-olive-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id006
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: libretto-olive-route-create
  service_id: libretto-olive-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id006
- name: libretto-olive-route-read
  service_id: libretto-olive-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id006
- name: libretto-olive-route-update
  service_id: libretto-olive-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id006
- name: libretto-olive-route-delete
  service_id: libretto-olive-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id006
- name: libretto-sopapillas-route-list
  service_id: libretto-sopapillas-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id007
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: libretto-sopapillas-route-create
  service_id: libretto-sopapillas-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id007
- name: libretto-sopapillas-route-read
  service_id: libretto-sopapillas-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id007
- name: libretto-sopapillas-route-update
  service_id: libretto-sopapillas-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id007
- name: libretto-sopapillas-route-delete
  service_id: libretto-sopapillas-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id007
- name: andante-persian-route-list
  service_id: andante-persian-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id008
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: andante-persian-route-create
  service_id: andante-persian-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id008
- name: andante-persian-route-read
  service_id: andante-persian-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id008
- name: andante-persian-route-update
  service_id: andante-persian-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id008
- name: andante-persian-route-delete
  service_id: andante-persian-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id008
- name: libretto-steak-route-list
  service_id: libretto-steak-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id009
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: libretto-steak-route-create
  service_id: libretto-steak-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id009
- name: libretto-steak-route-read
  service_id: libretto-steak-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id009
- name: libretto-steak-route-update
  service_id: libretto-steak-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id009
- name: libretto-steak-route-delete
  service_id: libretto-steak-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id009
- name: moderato-pot-route-list
  service_id: moderato-pot-service
  uri: /anything
  methods:
  - GET
  plugins:
    openid-connect: &id010
      accept_none_alg: false
      accept_unsupported_alg: true
      access_token_expires_leeway: 0
      client_jwt_assertion_expires_in: 60
      force_reauthorize: false
      iat_slack: 120
      introspection_endpoint_auth_method: client_secret_basic
      introspection_interval: 0
      jwk_expires_in: 86400
      jwt_verification_cache_ignore: false
      logout_path: /logout
      renew_access_token_on_expiry: true
      revoke_tokens_on_logout: false
      set_access_token_header: true
      set_id_token_header: true
      set_refresh_token_header: false
      timeout: 3
      token_endpoint_auth_method: client_secret_basic
      unauth_action: auth
      use_nonce: false
      use_pkce: false
      client_id: ''
      client_secret: ''
      discovery: ''
      public_key: '-----BEGIN PUBLIC KEY-----

        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxZS56Wt4ybJQqmxEa5nR7cZ7sbuywvDtEwRWbzey7VNjO34GAA6mzT9XKzQK4/X8rGpWjJdfYV3DWoGyRpWQZClVOEgMFN/y0ZySrcSLsqSG7MccXVPFL5xKCVndYbD76ae9T/SY52AqT1Ly1/KKA1ehEYAaxP6n9IQ3/SSOlUMhqZUnqZs8AXDm+5ZzUs4TG+ypyMIQfgldeSPVElZTAZKBPUG2gMU+/7GjXCHoR+DQSB0elpPjFOq8dTifzK1P1JNuy7xWOjKjo5f3gGEx9jucxFej2iIzA2DC1NIa5F2uAlfRtG3AyQhyKOR78koG86afBhYL0A+VscXv8pWDsQIDAQAB

        -----END PUBLIC KEY-----

        '
      bearer_only: true
      realm: bank
      introspection_endpoint: ''
      token_signing_alg_values_expected: RS256
      scope: openid email profile
      ssl_verify: false
      set_userinfo_header: true
      access_token_in_authorization_header: true
- name: moderato-pot-route-create
  service_id: moderato-pot-service
  uri: /anything
  methods:
  - POST
  plugins:
    openid-connect: *id010
- name: moderato-pot-route-read
  service_id: moderato-pot-service
  uri: /anything/*
  methods:
  - GET
  plugins:
    openid-connect: *id010
- name: moderato-pot-route-update
  service_id: moderato-pot-service
  uri: /anything/*
  methods:
  - PUT
  plugins:
    openid-connect: *id010
- name: moderato-pot-route-delete
  service_id: moderato-pot-service
  uri: /anything/*
  methods:
  - DELETE
  plugins:
    openid-connect: *id010
